(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+rpl":function(n,e,t){"use strict";t.d(e,"a",function(){return o});var l=t("CcnG"),a=t("AwDD"),r=t("RmnQ"),i=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function u(n){return l["\u0275vid"](0,[(n()(),l["\u0275ted"](0,null,[" "," "]))],null,function(n,e){n(e,0,0,e.component.renderValue)})}function c(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,u,i)),l["\u0275did"](1,114688,null,0,a.a,[r.a],null,null)],function(n,e){n(e,1,0)},null)}var o=l["\u0275ccf"]("ng-component",a.a,c,{value:"value",rowData:"rowData"},{},[])},"/Y30":function(n,e,t){"use strict";t.d(e,"a",function(){return l}),t("RmnQ");var l=function(){function n(n){this.authService=n}return n.prototype.ngOnInit=function(){this.renderValue="",this.renderValue=this.value>0||"true"===this.value?"\u662f":"\u5426"},n}()},"3o12":function(n,e,t){"use strict";t.d(e,"a",function(){return c});var l=t("CG3O"),a=(t("RmnQ"),t("b8yy")),r=t("/Y30"),i=t("c+V8"),u=t("EVuO"),c=function(){function n(n,e){this.authService=n,this.router=e,this.source=new l.a,this.settings={add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmCreate:!0},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!1},columns:{name:{title:"\u59d3\u540d",type:"string"},email:{title:"\u96fb\u5b50\u90f5\u4ef6\u4f4d\u5740",type:"string",editable:!1},password:{title:"\u5bc6\u78bc",type:"string",editable:!1},role:{title:"\u89d2\u8272",type:"custom",editable:this.authService.isAdmin(),filter:{type:"list",config:{selectText:"Select...",list:[{value:1,title:"\u8a3b\u518a\u8005"},{value:2,title:"\u516c\u53f8\u5ba2\u6236"},{value:4,title:"\u516c\u53f8\u7ba1\u7406\u8005"}]}},editor:{type:"list",config:{list:[{value:1,title:"\u8a3b\u518a\u8005"},{value:2,title:"\u516c\u53f8\u5ba2\u6236"},{value:4,title:"\u516c\u53f8\u7ba1\u7406\u8005"}]}},renderComponent:i.a},ownedCompanyid:{title:"\u64c1\u6709\u516c\u53f8",type:"custom",editor:{type:"list",config:{list:this.getCompanyList()}},renderComponent:a.a},companyid:{title:"\u6240\u5c6c\u516c\u53f8",type:"custom",editor:{type:"list",config:{list:this.getCompanyList()}},renderComponent:a.a},active:{title:"\u555f\u7528",type:"custom",editor:{type:"checkbox",config:{true:"\u662f",false:"\u5426"}},renderComponent:r.a},public:{title:"\u958b\u653e",type:"custom",editor:{type:"checkbox",config:{true:"\u662f",false:"\u5426"}},renderComponent:r.a},button:{title:"\u8f09\u5165\u914d\u7f6e",type:"custom",renderComponent:u.a,onComponentInitFunction:function(e){e.save.subscribe(function(e){n.getUserData(e.uid)})}}},actions:{delete:!1}}}return n.prototype.ngOnInit=function(){this.authService.users&&this.source.load(this.authService.users)},n.prototype.getCompanyList=function(){if(!this.authService.companys)return[];for(var n=[],e=0;e<this.authService.companys.length;e++)n.push({value:this.authService.companys[e].id,title:this.authService.companys[e].title})},n.prototype.createUser=function(n){var e=this;if(window.confirm("\u78ba\u5b9a\u65b0\u589e\u4f7f\u7528\u8005?")){var t=n.newData;this.authService.isCompanyAdmin()&&(t.role=1,t.companyid=this.authService.user.ownedCompanyid),this.authService.signup(t.email,t.password).subscribe(function(n){console.error(n.uid);var l={uid:n.uid,email:n.email,pssword:t.password,photoURL:n.photoURL,name:t.fullName,active:!0,createdAt:(new Date).getTime()};e.authService.addUser(l).then(function(n){this.authService.uid=t.uid,this.authService.getCompanys(),this.notify.update("Password update email sent","info"),this.router.navigate(["pages/dashboard"])}).catch(function(n){return e.authService.showToast("danger",n.message,"")})})}else n.confirm.reject()},n.prototype.editUser=function(n){var e=this;window.confirm("\u78ba\u5b9a\u66f4\u65b0\u4f7f\u7528\u8005\u8cc7\u6599")?this.authService.updateLayout(n.newData).then(function(e){n.confirm.resolve(n.newData)}).catch(function(n){return e.authService.handleError(n)}):n.confirm.reject()},n}()},"4AFc":function(n,e,t){"use strict";t.d(e,"a",function(){return i});var l=t("CG3O"),a=(t("RmnQ"),t("AwDD")),r=t("/Y30"),i=function(){function n(n,e){this.authService=n,this.router=e,this.camerasettings={add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmCreate:!0},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{title:{title:"\u540d\u7a31",type:"string"},description:{title:"\u8aaa\u660e",type:"string"},userid:{title:"\u4f7f\u7528\u8005",type:"custom",editor:{type:"list",config:{list:this.getUserList()}},renderComponent:a.a},url:{title:"\u7db2\u5740",type:"string"},active:{title:"\u555f\u7528",type:"custom",editor:{type:"checkbox",config:{true:!0,false:!1}},renderComponent:r.a}}},this.camerasource=new l.a;var t=this.authService.cameras;t&&this.camerasource.load(t)}return n.prototype.ngOnChanges=function(){this.camerasource.load(this.authService.cameras)},n.prototype.getUserList=function(){if(!this.authService.users)return[];for(var n=[],e=0;e<this.authService.users.length;e++)n.push({value:this.authService.users[e].uid,title:this.authService.users[e].name});return n},n.prototype.createCamera=function(n){var e=this;n.newData.title&&0!==n.newData.title.length?(n.newData.userid||(n.newData.userid=this.authService.user.uid),n.newData.url&&0!==n.newData.url.length?(n.newData.active=!0,window.confirm("\u78ba\u5b9a\u65b0\u589e\u651d\u5f71\u6a5f?")?this.authService.addCamera(n.newData).then(function(e){n.confirm.resolve(n.newData)}).catch(function(n){return e.authService.showToast("danger",n.message,"")}):n.confirm.reject()):this.authService.showToast("danger","\u651d\u5f71\u6a5f\u9023\u7dda\u7db2\u5740\u4e0d\u53ef\u7a7a\u767d!","")):this.authService.showToast("danger","\u651d\u5f71\u6a5f\u540d\u7a31\u4e0d\u53ef\u7a7a\u767d!","")},n.prototype.deleteCamera=function(n){var e=this;window.confirm("\u78ba\u5b9a\u522a\u9664\u651d\u5f71\u6a5f?")?this.authService.deleteCamera(n.data).then(function(e){n.confirm.resolve()}).catch(function(n){return e.authService.showToast("danger",n.message,"")}):n.confirm.reject()},n.prototype.editCamera=function(n){var e=this;window.confirm("\u78ba\u5b9a\u66f4\u65b0\u651d\u5f71\u6a5f")?this.authService.updateCamera(n.newData).then(function(e){n.confirm.resolve(n.newData)}).catch(function(n){return e.authService.showToast("danger",n.message,"")}):n.confirm.reject()},n}()},"4spS":function(n,e,t){"use strict";t.d(e,"a",function(){return m});var l=t("CcnG"),a=t("4bAE"),r=t("mc3f"),i=t("+ImT"),u=t("Qq3i"),c=t("Xag6"),o=t("RmnQ"),s=t("ZYCi"),d=l["\u0275crt"]({encapsulation:0,styles:["nb-card[_ngcontent-%COMP%] {\n      transform: translate3d(0, 0, 0);\n    }"],data:{}});function v(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,8,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,a.f,a.b)),l["\u0275did"](1,49152,null,0,r.b,[],null,null),(n()(),l["\u0275eld"](2,0,null,0,2,"nb-card-header",[],null,null,null,a.h,a.d)),l["\u0275did"](3,49152,null,0,r.d,[],null,null),(n()(),l["\u0275ted"](-1,0,[" \u516c\u53f8\u8868\u5217 "])),(n()(),l["\u0275eld"](5,0,null,1,3,"nb-card-body",[],null,null,null,a.e,a.a)),l["\u0275did"](6,49152,null,0,r.a,[],null,null),(n()(),l["\u0275eld"](7,0,null,0,1,"ng2-smart-table",[],null,[[null,"deleteConfirm"]],function(n,e,t){var l=!0;return"deleteConfirm"===e&&(l=!1!==n.component.onDeleteConfirm(t)&&l),l},i.b,i.a)),l["\u0275did"](8,573440,null,0,u.a,[],{source:[0,"source"],settings:[1,"settings"]},{deleteConfirm:"deleteConfirm"})],function(n,e){var t=e.component;n(e,8,0,t.source,t.settings)},function(n,e){n(e,0,1,[l["\u0275nov"](e,1).xxsmall,l["\u0275nov"](e,1).xsmall,l["\u0275nov"](e,1).small,l["\u0275nov"](e,1).medium,l["\u0275nov"](e,1).large,l["\u0275nov"](e,1).xlarge,l["\u0275nov"](e,1).xxlarge,l["\u0275nov"](e,1).active,l["\u0275nov"](e,1).disabled,l["\u0275nov"](e,1).primary,l["\u0275nov"](e,1).info,l["\u0275nov"](e,1).success,l["\u0275nov"](e,1).warning,l["\u0275nov"](e,1).danger,l["\u0275nov"](e,1).hasAccent,l["\u0275nov"](e,1).primaryAccent,l["\u0275nov"](e,1).infoAccent,l["\u0275nov"](e,1).successAccent,l["\u0275nov"](e,1).warningAccent,l["\u0275nov"](e,1).dangerAccent,l["\u0275nov"](e,1).activeAccent,l["\u0275nov"](e,1).disabledAccent])})}function f(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ngx-user-table",[],null,null,null,v,d)),l["\u0275did"](1,49152,null,0,c.a,[o.a,s.l],null,null)],null,null)}var m=l["\u0275ccf"]("ngx-user-table",c.a,f,{},{},[])},AwDD:function(n,e,t){"use strict";t.d(e,"a",function(){return l}),t("RmnQ");var l=function(){function n(n){this.authService=n}return n.prototype.ngOnInit=function(){this.renderValue="",this.value&&(this.renderValue=this.authService.getUserFromUid(this.value).name)},n}()},EVuO:function(n,e,t){"use strict";t.d(e,"a",function(){return a});var l=t("CcnG"),a=function(){function n(){this.save=new l.EventEmitter}return n.prototype.ngOnInit=function(){this.renderValue=this.value.toString()},n.prototype.onClick=function(){this.save.emit(this.rowData)},n}()},EcaY:function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(){return function(){}}()},IKiK:function(n,e,t){"use strict";t.d(e,"a",function(){return m});var l=t("CcnG"),a=t("4bAE"),r=t("mc3f"),i=t("+ImT"),u=t("Qq3i"),c=t("4AFc"),o=t("RmnQ"),s=t("ZYCi"),d=l["\u0275crt"]({encapsulation:0,styles:["nb-card[_ngcontent-%COMP%] {\n      transform: translate3d(0, 0, 0);\n    }"],data:{}});function v(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,8,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,a.f,a.b)),l["\u0275did"](1,49152,null,0,r.b,[],null,null),(n()(),l["\u0275eld"](2,0,null,0,2,"nb-card-header",[],null,null,null,a.h,a.d)),l["\u0275did"](3,49152,null,0,r.d,[],null,null),(n()(),l["\u0275ted"](-1,0,[" \u651d\u5f71\u6a5f\u8868\u5217 "])),(n()(),l["\u0275eld"](5,0,null,1,3,"nb-card-body",[],null,null,null,a.e,a.a)),l["\u0275did"](6,49152,null,0,r.a,[],null,null),(n()(),l["\u0275eld"](7,0,null,0,1,"ng2-smart-table",[],null,[[null,"deleteConfirm"],[null,"editConfirm"],[null,"createConfirm"]],function(n,e,t){var l=!0,a=n.component;return"deleteConfirm"===e&&(l=!1!==a.deleteCamera(t)&&l),"editConfirm"===e&&(l=!1!==a.editCamera(t)&&l),"createConfirm"===e&&(l=!1!==a.createCamera(t)&&l),l},i.b,i.a)),l["\u0275did"](8,573440,null,0,u.a,[],{source:[0,"source"],settings:[1,"settings"]},{deleteConfirm:"deleteConfirm",editConfirm:"editConfirm",createConfirm:"createConfirm"})],function(n,e){var t=e.component;n(e,8,0,t.camerasource,t.camerasettings)},function(n,e){n(e,0,1,[l["\u0275nov"](e,1).xxsmall,l["\u0275nov"](e,1).xsmall,l["\u0275nov"](e,1).small,l["\u0275nov"](e,1).medium,l["\u0275nov"](e,1).large,l["\u0275nov"](e,1).xlarge,l["\u0275nov"](e,1).xxlarge,l["\u0275nov"](e,1).active,l["\u0275nov"](e,1).disabled,l["\u0275nov"](e,1).primary,l["\u0275nov"](e,1).info,l["\u0275nov"](e,1).success,l["\u0275nov"](e,1).warning,l["\u0275nov"](e,1).danger,l["\u0275nov"](e,1).hasAccent,l["\u0275nov"](e,1).primaryAccent,l["\u0275nov"](e,1).infoAccent,l["\u0275nov"](e,1).successAccent,l["\u0275nov"](e,1).warningAccent,l["\u0275nov"](e,1).dangerAccent,l["\u0275nov"](e,1).activeAccent,l["\u0275nov"](e,1).disabledAccent])})}function f(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ngx-camera-table",[],null,null,null,v,d)),l["\u0275did"](1,573440,null,0,c.a,[o.a,s.l],null,null)],null,null)}var m=l["\u0275ccf"]("ngx-camera-table",c.a,f,{reload:"reload"},{},[])},Kckm:function(n,e,t){"use strict";t.d(e,"a",function(){return m});var l=t("CcnG"),a=t("4bAE"),r=t("mc3f"),i=t("+ImT"),u=t("Qq3i"),c=t("nTmD"),o=t("RmnQ"),s=t("ZYCi"),d=l["\u0275crt"]({encapsulation:0,styles:["nb-card[_ngcontent-%COMP%] {\n      transform: translate3d(0, 0, 0);\n    }"],data:{}});function v(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,8,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,a.f,a.b)),l["\u0275did"](1,49152,null,0,r.b,[],null,null),(n()(),l["\u0275eld"](2,0,null,0,2,"nb-card-header",[],null,null,null,a.h,a.d)),l["\u0275did"](3,49152,null,0,r.d,[],null,null),(n()(),l["\u0275ted"](-1,0,[" \u63a7\u5236\u5668\u8868\u5217 "])),(n()(),l["\u0275eld"](5,0,null,1,3,"nb-card-body",[],null,null,null,a.e,a.a)),l["\u0275did"](6,49152,null,0,r.a,[],null,null),(n()(),l["\u0275eld"](7,0,null,0,1,"ng2-smart-table",[],null,[[null,"deleteConfirm"],[null,"editConfirm"],[null,"createConfirm"]],function(n,e,t){var l=!0,a=n.component;return"deleteConfirm"===e&&(l=!1!==a.deleteController(t)&&l),"editConfirm"===e&&(l=!1!==a.editController(t)&&l),"createConfirm"===e&&(l=!1!==a.createController(t)&&l),l},i.b,i.a)),l["\u0275did"](8,573440,null,0,u.a,[],{source:[0,"source"],settings:[1,"settings"]},{deleteConfirm:"deleteConfirm",editConfirm:"editConfirm",createConfirm:"createConfirm"})],function(n,e){var t=e.component;n(e,8,0,t.controllersource,t.controllersettings)},function(n,e){n(e,0,1,[l["\u0275nov"](e,1).xxsmall,l["\u0275nov"](e,1).xsmall,l["\u0275nov"](e,1).small,l["\u0275nov"](e,1).medium,l["\u0275nov"](e,1).large,l["\u0275nov"](e,1).xlarge,l["\u0275nov"](e,1).xxlarge,l["\u0275nov"](e,1).active,l["\u0275nov"](e,1).disabled,l["\u0275nov"](e,1).primary,l["\u0275nov"](e,1).info,l["\u0275nov"](e,1).success,l["\u0275nov"](e,1).warning,l["\u0275nov"](e,1).danger,l["\u0275nov"](e,1).hasAccent,l["\u0275nov"](e,1).primaryAccent,l["\u0275nov"](e,1).infoAccent,l["\u0275nov"](e,1).successAccent,l["\u0275nov"](e,1).warningAccent,l["\u0275nov"](e,1).dangerAccent,l["\u0275nov"](e,1).activeAccent,l["\u0275nov"](e,1).disabledAccent])})}function f(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ngx-user-table",[],null,null,null,v,d)),l["\u0275did"](1,573440,null,0,c.a,[o.a,s.l],null,null)],null,null)}var m=l["\u0275ccf"]("ngx-user-table",c.a,f,{reload:"reload"},{},[])},OmCq:function(n,e,t){"use strict";t.d(e,"a",function(){return o});var l=t("CcnG"),a=t("ZnKJ"),r=t("RmnQ"),i=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function u(n){return l["\u0275vid"](0,[(n()(),l["\u0275ted"](0,null,[" "," "]))],null,function(n,e){n(e,0,0,e.component.renderValue)})}function c(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,u,i)),l["\u0275did"](1,114688,null,0,a.a,[r.a],null,null)],function(n,e){n(e,1,0)},null)}var o=l["\u0275ccf"]("ng-component",a.a,c,{value:"value",rowData:"rowData"},{},[])},"POE/":function(n,e,t){"use strict";t.d(e,"a",function(){return l});var l=function(){return function(){}}()},"Q+YP":function(n,e,t){"use strict";t.d(e,"a",function(){return o});var l=t("CcnG"),a=t("ZYCi"),r=t("POE/"),i=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function u(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),l["\u0275did"](1,212992,null,0,a.o,[a.b,l.ViewContainerRef,l.ComponentFactoryResolver,[8,null],l.ChangeDetectorRef],null,null)],function(n,e){n(e,1,0)},null)}function c(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ngx-just-iottables",[],null,null,null,u,i)),l["\u0275did"](1,49152,null,0,r.a,[],null,null)],null,null)}var o=l["\u0275ccf"]("ngx-just-iottables",r.a,c,{},{},[])},QKJR:function(n,e,t){"use strict";t.d(e,"a",function(){return o});var l=t("CcnG"),a=t("qcJs"),r=t("RmnQ"),i=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function u(n){return l["\u0275vid"](0,[(n()(),l["\u0275ted"](0,null,[" "," "]))],null,function(n,e){n(e,0,0,e.component.renderValue)})}function c(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,u,i)),l["\u0275did"](1,114688,null,0,a.a,[r.a],null,null)],function(n,e){n(e,1,0)},null)}var o=l["\u0275ccf"]("ng-component",a.a,c,{value:"value",rowData:"rowData"},{},[])},QPFL:function(n,e,t){"use strict";t.d(e,"a",function(){return c});var l=t("CcnG"),a=t("EVuO"),r=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function i(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.onClick()&&l),l},null,null)),(n()(),l["\u0275ted"](1,null,["",""]))],null,function(n,e){n(e,1,0,e.component.renderValue)})}function u(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ngx-button-render",[],null,null,null,i,r)),l["\u0275did"](1,114688,null,0,a.a,[],null,null)],function(n,e){n(e,1,0)},null)}var c=l["\u0275ccf"]("ngx-button-render",a.a,u,{value:"value",rowData:"rowData"},{save:"save"},[])},TvyE:function(n,e,t){"use strict";t.d(e,"a",function(){return l}),t("RmnQ");var l=function(){function n(n){this.authService=n}return n.prototype.ngOnInit=function(){this.renderValue="",this.value&&(this.renderValue=this.authService.getControllerFromId(this.value).title)},n}()},Xag6:function(n,e,t){"use strict";t.d(e,"a",function(){return i});var l=t("CG3O"),a=(t("RmnQ"),t("AwDD")),r=t("/Y30"),i=function(){function n(n,e){this.authService=n,this.router=e,this.settings={add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{title:{title:"\u540d\u7a31",type:"string"},description:{title:"\u8aaa\u660e",type:"string"},adminuid:{title:"\u7ba1\u7406\u8005",type:"custom",renderComponent:a.a},url:{title:"\u7db2\u5740",type:"string"},active:{title:"\u555f\u7528",type:"custom",editor:{type:"checkbox",config:{true:"\u662f",false:"\u5426"}},renderComponent:r.a}}},this.source=new l.a;var t=this.authService.companys;t&&this.source.load(t)}return n.prototype.onDeleteConfirm=function(n){window.confirm("Are you sure you want to delete?")?n.confirm.resolve():n.confirm.reject()},n}()},ZnKJ:function(n,e,t){"use strict";t.d(e,"a",function(){return l}),t("RmnQ");var l=function(){function n(n){this.authService=n}return n.prototype.ngOnInit=function(){this.renderValue="",this.value&&(this.renderValue="0"===this.value.toString()?"Arduino":"1"===this.value.toString()?"Raspberry Pi":"\u5176\u4ed6")},n}()},b8yy:function(n,e,t){"use strict";t.d(e,"a",function(){return l}),t("RmnQ");var l=function(){function n(n){this.authService=n}return n.prototype.ngOnInit=function(){this.renderValue="",this.value&&(this.renderValue=this.authService.getCompanyFromId(this.value).title)},n}()},"c+V8":function(n,e,t){"use strict";t.d(e,"a",function(){return l}),t("RmnQ");var l=function(){function n(n){this.authService=n}return n.prototype.ngOnInit=function(){this.renderValue="",this.value&&(this.renderValue="\u8a2a\u5ba2",1===this.rowData.role?this.renderValue="\u8a3b\u518a\u8005":2===this.rowData.role&&(this.renderValue="\u516c\u53f8\u5ba2\u6236"),4===this.rowData.role&&(this.renderValue="\u516c\u53f8\u7ba1\u7406\u8005"),9===this.rowData.role&&(this.renderValue="\u7cfb\u7d71\u7ba1\u7406\u8005"))},n}()},l9Tu:function(n,e,t){"use strict";t.d(e,"a",function(){return m});var l=t("CcnG"),a=t("4bAE"),r=t("mc3f"),i=t("+ImT"),u=t("Qq3i"),c=t("vcN/"),o=t("RmnQ"),s=t("ZYCi"),d=l["\u0275crt"]({encapsulation:0,styles:["nb-card[_ngcontent-%COMP%] {\n      transform: translate3d(0, 0, 0);\n    }"],data:{}});function v(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,8,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,a.f,a.b)),l["\u0275did"](1,49152,null,0,r.b,[],null,null),(n()(),l["\u0275eld"](2,0,null,0,2,"nb-card-header",[],null,null,null,a.h,a.d)),l["\u0275did"](3,49152,null,0,r.d,[],null,null),(n()(),l["\u0275ted"](-1,0,[" GPS\u8a18\u9304\u5668\u8868\u5217 "])),(n()(),l["\u0275eld"](5,0,null,1,3,"nb-card-body",[],null,null,null,a.e,a.a)),l["\u0275did"](6,49152,null,0,r.a,[],null,null),(n()(),l["\u0275eld"](7,0,null,0,1,"ng2-smart-table",[],null,[[null,"deleteConfirm"],[null,"editConfirm"],[null,"createConfirm"]],function(n,e,t){var l=!0,a=n.component;return"deleteConfirm"===e&&(l=!1!==a.deleteGPSLogger(t)&&l),"editConfirm"===e&&(l=!1!==a.editGPSLogger(t)&&l),"createConfirm"===e&&(l=!1!==a.createGPSLogger(t)&&l),l},i.b,i.a)),l["\u0275did"](8,573440,null,0,u.a,[],{source:[0,"source"],settings:[1,"settings"]},{deleteConfirm:"deleteConfirm",editConfirm:"editConfirm",createConfirm:"createConfirm"})],function(n,e){var t=e.component;n(e,8,0,t.gpsloggersource,t.gpsloggersettings)},function(n,e){n(e,0,1,[l["\u0275nov"](e,1).xxsmall,l["\u0275nov"](e,1).xsmall,l["\u0275nov"](e,1).small,l["\u0275nov"](e,1).medium,l["\u0275nov"](e,1).large,l["\u0275nov"](e,1).xlarge,l["\u0275nov"](e,1).xxlarge,l["\u0275nov"](e,1).active,l["\u0275nov"](e,1).disabled,l["\u0275nov"](e,1).primary,l["\u0275nov"](e,1).info,l["\u0275nov"](e,1).success,l["\u0275nov"](e,1).warning,l["\u0275nov"](e,1).danger,l["\u0275nov"](e,1).hasAccent,l["\u0275nov"](e,1).primaryAccent,l["\u0275nov"](e,1).infoAccent,l["\u0275nov"](e,1).successAccent,l["\u0275nov"](e,1).warningAccent,l["\u0275nov"](e,1).dangerAccent,l["\u0275nov"](e,1).activeAccent,l["\u0275nov"](e,1).disabledAccent])})}function f(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ngx-user-table",[],null,null,null,v,d)),l["\u0275did"](1,573440,null,0,c.a,[o.a,s.l],null,null)],null,null)}var m=l["\u0275ccf"]("ngx-user-table",c.a,f,{reload:"reload"},{},[])},nTmD:function(n,e,t){"use strict";t.d(e,"a",function(){return u});var l=t("CG3O"),a=(t("RmnQ"),t("AwDD")),r=t("/Y30"),i=t("ZnKJ"),u=function(){function n(n,e){this.authService=n,this.router=e,this.controllersettings={add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmCreate:!0},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{title:{title:"\u540d\u7a31",type:"string"},description:{title:"\u8aaa\u660e",type:"string"},userid:{title:"\u4f7f\u7528\u8005",type:"custom",editor:{type:"list",config:{list:this.getUserList()}},renderComponent:a.a},type:{title:"\u985e\u578b",type:"custom",editor:{type:"list",config:{list:[{value:0,title:"Arduino"},{value:1,title:"Raspberry Pi"},{value:2,title:"\u5176\u4ed6"}]}},renderComponent:i.a},active:{title:"\u555f\u7528",type:"custom",editor:{type:"checkbox",config:{true:!0,false:!1}},renderComponent:r.a}}},this.controllersource=new l.a;var t=this.authService.controllers;t&&this.controllersource.load(t)}return n.prototype.ngOnChanges=function(){this.controllersource.load(this.authService.controllers)},n.prototype.getUserList=function(){if(!this.authService.users)return[];for(var n=[],e=0;e<this.authService.users.length;e++)n.push({value:this.authService.users[e].uid,title:this.authService.users[e].name});return n},n.prototype.createController=function(n){var e=this;n.newData.title?(n.newData.userid||(n.newData.userid=this.authService.user.uid),n.newData.hasOwnProperty("type")||(n.newData.type=2),"string"==typeof n.newData.type&&0===n.newData.type.length&&(n.newData.type=2),"string"==typeof n.newData.type&&(n.newData.type=Number(n.newData.type)),n.newData.active=!0,window.confirm("\u78ba\u5b9a\u65b0\u589e\u63a7\u5236\u5668?")?this.authService.addController(n.newData).then(function(e){n.confirm.resolve(n.newData)}).catch(function(n){return e.authService.showToast("danger",n.message,"")}):n.confirm.reject()):this.authService.showToast("danger","\u63a7\u5236\u5668\u540d\u7a31\u4e0d\u53ef\u7a7a\u767d!","")},n.prototype.deleteController=function(n){var e=this;window.confirm("\u78ba\u5b9a\u522a\u9664\u63a7\u5236\u5668?")?this.authService.deleteController(n.data).then(function(e){n.confirm.resolve()}).catch(function(n){return e.authService.showToast("danger",n.message,"")}):n.confirm.reject()},n.prototype.editController=function(n){var e=this;n.newData.title?(n.newData.userid||(n.newData.userid=this.authService.user.uid),n.newData.hasOwnProperty("type")||(n.newData.type=2),"string"==typeof n.newData.type&&0===n.newData.type.length&&(n.newData.type=2),"string"==typeof n.newData.type&&(n.newData.type=Number(n.newData.type)),window.confirm("\u78ba\u5b9a\u66f4\u65b0\u63a7\u5236\u5668")?this.authService.updateController(n.newData).then(function(e){n.confirm.resolve(n.newData)}).catch(function(n){return e.authService.showToast("danger",n.message,"")}):n.confirm.reject()):this.authService.showToast("danger","\u63a7\u5236\u5668\u540d\u7a31\u4e0d\u53ef\u7a7a\u767d!","")},n}()},nwar:function(n,e,t){"use strict";t.d(e,"a",function(){return o});var l=t("CcnG"),a=t("c+V8"),r=t("RmnQ"),i=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function u(n){return l["\u0275vid"](0,[(n()(),l["\u0275ted"](0,null,[" "," "]))],null,function(n,e){n(e,0,0,e.component.renderValue)})}function c(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,u,i)),l["\u0275did"](1,114688,null,0,a.a,[r.a],null,null)],function(n,e){n(e,1,0)},null)}var o=l["\u0275ccf"]("ng-component",a.a,c,{value:"value",rowData:"rowData"},{},[])},ovLD:function(n,e,t){"use strict";t.d(e,"a",function(){return m});var l=t("CcnG"),a=t("4bAE"),r=t("mc3f"),i=t("+ImT"),u=t("Qq3i"),c=t("3o12"),o=t("RmnQ"),s=t("ZYCi"),d=l["\u0275crt"]({encapsulation:0,styles:["nb-card[_ngcontent-%COMP%] {\n      transform: translate3d(0, 0, 0);\n    }"],data:{}});function v(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,8,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,a.f,a.b)),l["\u0275did"](1,49152,null,0,r.b,[],null,null),(n()(),l["\u0275eld"](2,0,null,0,2,"nb-card-header",[],null,null,null,a.h,a.d)),l["\u0275did"](3,49152,null,0,r.d,[],null,null),(n()(),l["\u0275ted"](-1,0,[" \u4f7f\u7528\u8005\u8868\u5217 "])),(n()(),l["\u0275eld"](5,0,null,1,3,"nb-card-body",[],null,null,null,a.e,a.a)),l["\u0275did"](6,49152,null,0,r.a,[],null,null),(n()(),l["\u0275eld"](7,0,null,0,1,"ng2-smart-table",[],null,[[null,"editConfirm"],[null,"createConfirm"]],function(n,e,t){var l=!0,a=n.component;return"editConfirm"===e&&(l=!1!==a.editUser(t)&&l),"createConfirm"===e&&(l=!1!==a.createUser(t)&&l),l},i.b,i.a)),l["\u0275did"](8,573440,null,0,u.a,[],{source:[0,"source"],settings:[1,"settings"]},{editConfirm:"editConfirm",createConfirm:"createConfirm"})],function(n,e){var t=e.component;n(e,8,0,t.source,t.settings)},function(n,e){n(e,0,1,[l["\u0275nov"](e,1).xxsmall,l["\u0275nov"](e,1).xsmall,l["\u0275nov"](e,1).small,l["\u0275nov"](e,1).medium,l["\u0275nov"](e,1).large,l["\u0275nov"](e,1).xlarge,l["\u0275nov"](e,1).xxlarge,l["\u0275nov"](e,1).active,l["\u0275nov"](e,1).disabled,l["\u0275nov"](e,1).primary,l["\u0275nov"](e,1).info,l["\u0275nov"](e,1).success,l["\u0275nov"](e,1).warning,l["\u0275nov"](e,1).danger,l["\u0275nov"](e,1).hasAccent,l["\u0275nov"](e,1).primaryAccent,l["\u0275nov"](e,1).infoAccent,l["\u0275nov"](e,1).successAccent,l["\u0275nov"](e,1).warningAccent,l["\u0275nov"](e,1).dangerAccent,l["\u0275nov"](e,1).activeAccent,l["\u0275nov"](e,1).disabledAccent])})}function f(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ngx-user-table",[],null,null,null,v,d)),l["\u0275did"](1,114688,null,0,c.a,[o.a,s.l],null,null)],function(n,e){n(e,1,0)},null)}var m=l["\u0275ccf"]("ngx-user-table",c.a,f,{},{},[])},pcGJ:function(n,e,t){"use strict";t.d(e,"a",function(){return o});var l=t("CcnG"),a=t("b8yy"),r=t("RmnQ"),i=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function u(n){return l["\u0275vid"](0,[(n()(),l["\u0275ted"](0,null,[" "," "]))],null,function(n,e){n(e,0,0,e.component.renderValue)})}function c(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,u,i)),l["\u0275did"](1,114688,null,0,a.a,[r.a],null,null)],function(n,e){n(e,1,0)},null)}var o=l["\u0275ccf"]("ng-component",a.a,c,{value:"value",rowData:"rowData"},{},[])},qcJs:function(n,e,t){"use strict";t.d(e,"a",function(){return l}),t("RmnQ");var l=function(){function n(n){this.authService=n}return n.prototype.ngOnInit=function(){this.renderValue="",this.value&&("0"===this.value.toString()?this.renderValue="\u6578\u4f4d\u8f38\u5165":"1"===this.value.toString()?this.renderValue="\u6578\u4f4d\u8f38\u51fa":"2"===this.value.toString()?this.renderValue="\u985e\u6bd4\u8f38\u5165":"3"===this.value.toString()&&(this.renderValue="\u985e\u6bd4\u8f38\u51fa"))},n}()},reMJ:function(n,e,t){"use strict";t.d(e,"a",function(){return o});var l=t("CcnG"),a=t("TvyE"),r=t("RmnQ"),i=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function u(n){return l["\u0275vid"](0,[(n()(),l["\u0275ted"](0,null,[" "," "]))],null,function(n,e){n(e,0,0,e.component.renderValue)})}function c(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,u,i)),l["\u0275did"](1,114688,null,0,a.a,[r.a],null,null)],function(n,e){n(e,1,0)},null)}var o=l["\u0275ccf"]("ng-component",a.a,c,{value:"value",rowData:"rowData"},{},[])},s0wc:function(n,e,t){"use strict";t.d(e,"a",function(){return o});var l=t("CcnG"),a=t("/Y30"),r=t("RmnQ"),i=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function u(n){return l["\u0275vid"](0,[(n()(),l["\u0275ted"](0,null,[" "," "]))],null,function(n,e){n(e,0,0,e.component.renderValue)})}function c(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,u,i)),l["\u0275did"](1,114688,null,0,a.a,[r.a],null,null)],function(n,e){n(e,1,0)},null)}var o=l["\u0275ccf"]("ng-component",a.a,c,{value:"value",rowData:"rowData"},{},[])},uu4f:function(n,e,t){"use strict";t.d(e,"a",function(){return m});var l=t("CcnG"),a=t("4bAE"),r=t("mc3f"),i=t("+ImT"),u=t("Qq3i"),c=t("yvO+"),o=t("RmnQ"),s=t("ZYCi"),d=l["\u0275crt"]({encapsulation:0,styles:["nb-card[_ngcontent-%COMP%] {\n      transform: translate3d(0, 0, 0);\n    }"],data:{}});function v(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,8,"nb-card",[],[[2,"xxsmall-card",null],[2,"xsmall-card",null],[2,"small-card",null],[2,"medium-card",null],[2,"large-card",null],[2,"xlarge-card",null],[2,"xxlarge-card",null],[2,"active-card",null],[2,"disabled-card",null],[2,"primary-card",null],[2,"info-card",null],[2,"success-card",null],[2,"warning-card",null],[2,"danger-card",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"accent-active",null],[2,"accent-disabled",null]],null,null,a.f,a.b)),l["\u0275did"](1,49152,null,0,r.b,[],null,null),(n()(),l["\u0275eld"](2,0,null,0,2,"nb-card-header",[],null,null,null,a.h,a.d)),l["\u0275did"](3,49152,null,0,r.d,[],null,null),(n()(),l["\u0275ted"](-1,0,[" \u8cc7\u6599\u9ede\u8868\u5217 "])),(n()(),l["\u0275eld"](5,0,null,1,3,"nb-card-body",[],null,null,null,a.e,a.a)),l["\u0275did"](6,49152,null,0,r.a,[],null,null),(n()(),l["\u0275eld"](7,0,null,0,1,"ng2-smart-table",[],null,[[null,"deleteConfirm"],[null,"editConfirm"],[null,"createConfirm"]],function(n,e,t){var l=!0,a=n.component;return"deleteConfirm"===e&&(l=!1!==a.deleteDatapoint(t)&&l),"editConfirm"===e&&(l=!1!==a.editDatapoint(t)&&l),"createConfirm"===e&&(l=!1!==a.createDatapoint(t)&&l),l},i.b,i.a)),l["\u0275did"](8,573440,null,0,u.a,[],{source:[0,"source"],settings:[1,"settings"]},{deleteConfirm:"deleteConfirm",editConfirm:"editConfirm",createConfirm:"createConfirm"})],function(n,e){var t=e.component;n(e,8,0,t.datapointsource,t.datapointsettings)},function(n,e){n(e,0,1,[l["\u0275nov"](e,1).xxsmall,l["\u0275nov"](e,1).xsmall,l["\u0275nov"](e,1).small,l["\u0275nov"](e,1).medium,l["\u0275nov"](e,1).large,l["\u0275nov"](e,1).xlarge,l["\u0275nov"](e,1).xxlarge,l["\u0275nov"](e,1).active,l["\u0275nov"](e,1).disabled,l["\u0275nov"](e,1).primary,l["\u0275nov"](e,1).info,l["\u0275nov"](e,1).success,l["\u0275nov"](e,1).warning,l["\u0275nov"](e,1).danger,l["\u0275nov"](e,1).hasAccent,l["\u0275nov"](e,1).primaryAccent,l["\u0275nov"](e,1).infoAccent,l["\u0275nov"](e,1).successAccent,l["\u0275nov"](e,1).warningAccent,l["\u0275nov"](e,1).dangerAccent,l["\u0275nov"](e,1).activeAccent,l["\u0275nov"](e,1).disabledAccent])})}function f(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ngx-user-table",[],null,null,null,v,d)),l["\u0275did"](1,573440,null,0,c.a,[o.a,s.l],null,null)],null,null)}var m=l["\u0275ccf"]("ngx-user-table",c.a,f,{reload:"reload"},{},[])},"vcN/":function(n,e,t){"use strict";t.d(e,"a",function(){return i});var l=t("CG3O"),a=(t("RmnQ"),t("AwDD")),r=t("/Y30"),i=function(){function n(n,e){this.authService=n,this.router=e,this.gpsloggersettings={add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmCreate:!0},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{title:{title:"\u540d\u7a31",type:"string"},description:{title:"\u8aaa\u660e",type:"string"},userid:{title:"\u4f7f\u7528\u8005",type:"custom",editor:{type:"list",config:{list:this.getUserList()}},renderComponent:a.a},active:{title:"\u555f\u7528",type:"custom",editor:{type:"checkbox",config:{true:!0,false:!1}},renderComponent:r.a}}},this.gpsloggersource=new l.a;var t=this.authService.gpsloggers;t&&this.gpsloggersource.load(t)}return n.prototype.ngOnChanges=function(){this.gpsloggersource.load(this.authService.gpsloggers)},n.prototype.getUserList=function(){if(!this.authService.users)return[];for(var n=[],e=0;e<this.authService.users.length;e++)n.push({value:this.authService.users[e].uid,title:this.authService.users[e].name});return n},n.prototype.createGPSLogger=function(n){var e=this;n.newData.title&&0!==n.newData.title.length?(n.newData.userid||(n.newData.userid=this.authService.user.uid),n.newData.active=!0,window.confirm("\u78ba\u5b9a\u65b0\u589eGPS\u8a18\u9304\u5668?")?this.authService.addGPSLogger(n.newData).then(function(e){n.confirm.resolve(n.newData)}).catch(function(n){return e.authService.showToast("danger",n.message,"")}):n.confirm.reject()):this.authService.showToast("danger","GPS\u8a18\u9304\u5668\u540d\u7a31\u4e0d\u53ef\u7a7a\u767d!","")},n.prototype.deleteGPSLogger=function(n){var e=this;window.confirm("\u78ba\u5b9a\u522a\u9664GPS\u8a18\u9304\u5668?")?this.authService.deleteGPSLogger(n.data).then(function(e){n.confirm.resolve()}).catch(function(n){return e.authService.showToast("danger",n.message,"")}):n.confirm.reject()},n.prototype.editGPSLogger=function(n){var e=this;window.confirm("\u78ba\u5b9a\u66f4\u65b0GPS\u8a18\u9304\u5668")?this.authService.updateGPSLogger(n.newData).then(function(e){n.confirm.resolve(n.newData)}).catch(function(n){return e.authService.showToast("danger",n.message,"")}):n.confirm.reject()},n}()},wuAN:function(n,e,t){"use strict";t.d(e,"a",function(){return l}),t("POE/"),t("3o12"),t("Xag6"),t("nTmD"),t("yvO+"),t("4AFc"),t("vcN/"),t("b8yy"),t("c+V8"),t("/Y30"),t("AwDD"),t("ZnKJ"),t("qcJs"),t("TvyE"),t("EVuO");var l=function(){return function(){}}()},"yvO+":function(n,e,t){"use strict";t.d(e,"a",function(){return c});var l=t("CG3O"),a=(t("RmnQ"),t("AwDD")),r=t("/Y30"),i=t("qcJs"),u=t("TvyE"),c=function(){function n(n,e){this.authService=n,this.router=e,this.datapointsettings={add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmCreate:!0},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{title:{title:"\u540d\u7a31",type:"string"},description:{title:"\u8aaa\u660e",type:"string"},dptype:{title:"\u985e\u578b",type:"custom",editor:{type:"list",config:{list:[{value:0,title:"\u6578\u4f4d\u8f38\u5165"},{value:1,title:"\u6578\u4f4d\u8f38\u51fa"},{value:2,title:"\u985e\u6bd4\u8f38\u5165"},{value:3,title:"\u985e\u6bd4\u8f38\u51fa"}]}},renderComponent:i.a},userid:{title:"\u4f7f\u7528\u8005",type:"custom",editor:{type:"list",config:{list:this.getUserList()}},renderComponent:a.a},controllerid:{title:"\u63a7\u5236\u5668",type:"custom",editor:{type:"list",config:{list:this.getControllerList()}},renderComponent:u.a},order:{title:"\u6b21\u5e8f",type:"number"},max:{title:"\u6700\u5927\u503c",type:"number"},min:{title:"\u6700\u5c0f\u503c",type:"number"},unit:{title:"\u55ae\u4f4d",type:"string"},active:{title:"\u555f\u7528",type:"custom",editor:{type:"checkbox",config:{true:!0,false:!1}},renderComponent:r.a}}},this.datapointsource=new l.a;var t=this.authService.datapoints;t&&this.datapointsource.load(t)}return n.prototype.ngOnChanges=function(){this.datapointsource.load(this.authService.datapoints)},n.prototype.getUserList=function(){if(!this.authService.users)return[];for(var n=[],e=0;e<this.authService.users.length;e++)n.push({value:this.authService.users[e].uid,title:this.authService.users[e].name});return n},n.prototype.getControllerList=function(){if(!this.authService.controllers)return[];for(var n=[],e=0;e<this.authService.controllers.length;e++)n.push({value:this.authService.controllers[e].id,title:this.authService.controllers[e].title});return n},n.prototype.createDatapoint=function(n){var e=this;!this.authService.controllers||this.authService.controllers.length<=0?this.authService.showToast("danger","\u8acb\u5148\u589e\u8a2d\u63a7\u5236\u5668!",""):n.newData.title&&0!==n.newData.title.length?n.newData.hasOwnProperty("dptype")?(n.newData.userid||(n.newData.userid=this.authService.user.uid),n.newData.hasOwnProperty("controllerid")?!n.newData.hasOwnProperty("order")||"string"==typeof n.newData.order&&0===n.newData.order.length?this.authService.showToast("danger"," \u8a2d\u5b9a\u8cc7\u6599\u9806\u5e8f,\u4e0d\u540c\u8cc7\u6599\u9ede,\u4e0d\u540c\u9806\u5e8f!",""):(n.newData.active=!0,window.confirm("\u78ba\u5b9a\u65b0\u589e\u8cc7\u6599\u9ede?")?("string"==typeof n.newData.dptype&&(n.newData.dptype=Number(n.newData.dptype)),"string"==typeof n.newData.max&&(n.newData.max=Number(n.newData.max)),"string"==typeof n.newData.min&&(n.newData.min=Number(n.newData.min)),"string"==typeof n.newData.order&&(n.newData.order=Number(n.newData.order)),this.authService.addDatapoint(n.newData).then(function(e){n.confirm.resolve(n.newData)}).catch(function(n){return e.authService.showToast("danger",n.message,"")})):n.confirm.reject()):this.authService.showToast("danger","\u6240\u5c6c\u63a7\u5236\u5668\u4e0d\u53ef\u7a7a\u767d!","")):this.authService.showToast("danger"," \u8a2d\u5b9a\u8cc7\u6599\u985e\u578b!",""):this.authService.showToast("danger","\u8cc7\u6599\u9ede\u540d\u7a31\u4e0d\u53ef\u7a7a\u767d!","")},n.prototype.deleteDatapoint=function(n){var e=this;window.confirm("\u78ba\u5b9a\u522a\u9664\u8cc7\u6599\u9ede?")?this.authService.deleteDatapoint(n.data).then(function(e){n.confirm.resolve()}).catch(function(n){return e.authService.showToast("danger",n.message,"")}):n.confirm.reject()},n.prototype.editDatapoint=function(n){var e=this;!this.authService.controllers||this.authService.controllers.length<=0?this.authService.showToast("danger","\u8acb\u5148\u589e\u8a2d\u63a7\u5236\u5668!",""):n.newData.title&&0!==n.newData.title.length?n.newData.hasOwnProperty("dptype")?(n.newData.userid||(n.newData.userid=this.authService.user.uid),n.newData.hasOwnProperty("controllerid")?!n.newData.hasOwnProperty("order")||"string"==typeof n.newData.order&&0===n.newData.order.length?this.authService.showToast("danger"," \u8a2d\u5b9a\u8cc7\u6599\u9806\u5e8f,\u4e0d\u540c\u8cc7\u6599\u9ede,\u4e0d\u540c\u9806\u5e8f!",""):window.confirm("\u78ba\u5b9a\u66f4\u65b0\u8cc7\u6599\u9ede")?("string"==typeof n.newData.dptype&&(n.newData.dptype=Number(n.newData.dptype)),"string"==typeof n.newData.max&&(n.newData.max=Number(n.newData.max)),"string"==typeof n.newData.min&&(n.newData.min=Number(n.newData.min)),"string"==typeof n.newData.order&&(n.newData.order=Number(n.newData.order)),this.authService.updateDatapoint(n.newData).then(function(e){n.confirm.resolve(n.newData)}).catch(function(n){return e.authService.showToast("danger",n.message,"")})):n.confirm.reject():this.authService.showToast("danger","\u6240\u5c6c\u63a7\u5236\u5668\u4e0d\u53ef\u7a7a\u767d!","")):this.authService.showToast("danger"," \u8a2d\u5b9a\u8cc7\u6599\u985e\u578b!",""):this.authService.showToast("danger","\u8cc7\u6599\u9ede\u540d\u7a31\u4e0d\u53ef\u7a7a\u767d!","")},n}()}}]);